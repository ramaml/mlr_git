pipeline 
{
	agent any
		stages {
				stage ("1. Create Build Output")
					steps {
						sh "mkdir -p output"
						sh "mkdir -p input"
						writeFile file:"output/usefulefile.txt",text:"This is a useful file"
						writeFile file:"output/uselessfile.md",text:"This is a useless file"
						writeFile file:"output/git.html",text:"This is a useless file from git repo"
					}
				stage ("2. Archive Build Output")
					steps {	
						archiveArtifacts artifacts:"output/*.txt",excludes:"output/*.md"
					}
				stage ("3. Create files in Input")
					steps {
						writeFile file:"input/usefulfile.txt",text:"this is input useful file"
						writeFile file:"input/uselessfile.txt",text:"this is input useless file"
					}
				stage ("4. Another step")
					steps {
						sh "touch another.html"
					}
				stage ("5. Build the code")
					steps {
						echo "Building the code from SCM"
					}
				stage ("6. Git step")
					steps {
						sh "touch another_git_repo.html"
					}
		}
}
